{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/config.js","src/js/lib/pubsub.js","src/js/main.js","src/js/models/Card.js","src/js/models/CardManager.js","src/js/prototypes.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = {\n  SAVE_CARDS: 'SAVE_CARDS'\n}","\nvar subs = {};\n\n\nfunction pub(name, params) {\n  subs[name].forEach(function(elem) {\n    elem.callback.apply(elem.context, params);\n  });\n}\n\nfunction sub(name, callback, context) {\n  if (subs[name] === undefined) {\n    subs[name] = [];\n  }\n\n  subs[name].push({\n    callback: callback,\n    context: context\n  });\n}\n\n\nmodule.exports = {\n  pub: pub,\n  sub: sub\n}","window.CONFIG = require('./config.js')\n\nvar prototypes = require('./prototypes'),\n  Card = require('./models/Card'),\n  CardManager = require('./models/CardManager');\n\n\nvar cardManager = CardManager.getInstance();\n\nObject.assign(window, require('./prototypes'));\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  \"strict mode\";\n\n  var mainContainer = $(\"#mainContainer\"),\n    input = document.querySelector(\"#formContainer input\"),\n    editContainer = document.getElementById('editContainer'),\n    editInput = editContainer.getElementsByClassName('input')[0];\n\n  input.addEventListener('keyup', function (event) {\n    event.stopPropagation();\n    var card;\n    if (event.keyCode === 13) {\n      card = cardManager.addCard(new Card(input.value));\n      card.render();\n      this.value = \"\";\n      cardManager.saveCards();\n    }\n  });\n\n  editInput.addEventListener('keyup', function (event) {\n    event.stopPropagation();\n    var card;\n    if (event.keyCode === 13) {\n      card = cardManager.cards[editContainer.cardId];\n      card.name = editInput.value;\n      card.derender();\n      card.render();\n      this.value = \"\";\n      cardManager.saveCards();\n\n      editContainer.style.display = 'none';\n    }\n  });\n\n  /*\n   On double click edit the card\n   */\n  mainContainer.on(\"dblclick\", \"div\", function () {\n    var elem = this.querySelector('.cardText'),\n      cardId,\n      card;\n\n    if (this.id === \"\") {\n      cardId = parseInt(this.parentElement.id.split(\"_\")[1]);\n    } else {\n      cardId = parseInt(this.id.split(\"_\")[1]);\n    }\n\n    card = cardManager.cards[cardId];\n\n    editInput.value = card.name;\n    editContainer.cardId = cardId;\n    editContainer.style.display = 'block';\n    editInput.focus();\n  });\n\n  /*\n   On click perform the card\n   */\n  mainContainer.on(\"click\", \"div\", function (event) {\n    var elem = this.querySelector('.cardText'),\n      cardId = parseInt(this.id.split(\"_\")[1]),\n      card = cardManager.cards[cardId];\n\n    if (event.ctrlKey) {\n    }\n    if (event.altKey) {\n      this.querySelector('.copy').click();\n    }\n    if (event.shiftKey) {\n\n    }\n  });\n\n  mainContainer.on(\"click\", \"div > div\", function () {\n    var option = $(this).html(),\n      selection,\n      cardId = getParentCardId(this);\n\n    switch (option) {\n      case '+':\n        changeDepth.apply(this, [cardId, 1]);\n        break;\n      case '-':\n        changeDepth.apply(this, [cardId, -1]);\n        break;\n      case 'C':\n        selection = selectText(this.parentElement.getElementsByClassName('cardText')[0]);\n        copySelectionText();\n        selection.empty();\n        break;\n      case 'x':\n        cardManager.removeCard(cardId, -1);\n        break;\n    }\n    cardManager.saveCards();\n  });\n\n  cardManager.loadCards();\n  cardManager.renderAllCards();\n  input.focus();\n});","var pubsub = require('../lib/pubsub');\n\nfunction Card(name) {\n  this.id = -1;\n  this.name = name;\n  this.depth = 5;\n  this.x = 100;\n  this.y = 100;\n  this.color = '#' + Math.floor(Math.random() * 16777215).toString(16);\n}\n\nCard.prototype.render = function () {\n  var node = document.createElement('div'),\n      text = document.createElement('div'),\n      that = this;\n\n  text.innerHTML = this.name;\n  text.className = \"cardText\";\n\n  node.id = \"todo_\" + this.id;\n  node.className = \"card card-1\";\n  node.style.position = \"fixed\";\n  node.style.left = this.x;\n  node.style.top = this.y;\n  node.style.cursor = \"-webkit-grab\";\n  node.style.zIndex = this.depth;\n\n  document.getElementById(\"mainContainer\").appendChild(node);\n\n  node.appendChild(createDiv('x', \"control remove\"));\n  node.appendChild(createDiv('+', \"control up\"));\n  node.appendChild(createDiv('-', \"control down\"));\n  node.appendChild(createDiv('C', \"control copy\"));\n  node.appendChild(createDiv(this.depth, \"depth\"));\n\n  node.appendChild(text);\n\n  $(\"#todo_\" + this.id).draggable({\n    stop: function () {\n      var card = $(\"#todo_\" + that.id);\n      that.x = card.css(\"left\");\n      that.y = card.css(\"top\");\n\n      // cardManager.saveCards();\n      pubsub.pub(window.CONFIG.SAVE_CARDS);\n    }\n  });\n};\n\nCard.prototype.derender = function () {\n  var node = document.getElementById(\"todo_\" + this.id);\n  document.getElementById(\"mainContainer\").removeChild(node);\n};\n\nmodule.exports = Card;","var Card = require('./Card'),\n  pubsub = require('../lib/pubsub');\n\n\nfunction CardManager() {\n  this.cards = [];\n}\n\nCardManager.prototype.addCard = function (card) {\n  this.cards.push(card);\n  card.id = this.cards.length - 1;\n\n  return card;\n};\n\nCardManager.prototype.removeCard = function (id) {\n  this.cards[id].derender();\n  this.cards[id] = undefined;\n};\n\nCardManager.prototype.redrawCard = function (cardId, x, y) {\n  var card = this.cards[cardId];\n  card.x = x;\n  card.y = y;\n\n  card.derender();\n  card.render();\n};\n\nCardManager.prototype.saveCards = function () {\n  if (typeof(Storage) !== \"undefined\") {\n    localStorage.setItem(\"cards\", JSON.stringify(this.cards));\n  } else {\n    console.log(\"you don't have local storage :(\");\n  }\n};\n\nCardManager.prototype.loadCards = function () {\n  var i;\n\n  this.cards = JSON.parse(localStorage.getItem(\"cards\"));\n  if (this.cards === null) this.cards = [];\n\n  this.clearArray();\n};\n\nCardManager.prototype.clearArray = function () {\n  var i;\n\n  this.cards = this.cards.filter(function (elem) {\n    return elem !== undefined && elem !== null\n  });\n  for (i in this.cards) {\n    if (this.cards.hasOwnProperty(i)) {\n      this.cards[i].id = i;\n    }\n  }\n};\n\nCardManager.prototype.renderAllCards = function () {\n  this.cards.forEach(function (card) {\n    // card.__proto__ = Card.prototype;\n    Object.setPrototypeOf(card, Card.prototype);\n    card.render();\n  })\n};\n\nCardManager.getInstance = function() {\n  if (CardManager.instance === undefined) {\n    CardManager.instance = new CardManager();\n    pubsub.sub(window.CONFIG.SAVE_CARDS, CardManager.instance.saveCards, CardManager.instance);\n  }\n\n  return CardManager.instance;\n}\n\nmodule.exports = CardManager;","var cardManager = require('./models/CardManager').getInstance();\n\nfunction createDiv(text, className) {\n  var div = document.createElement('div');\n  div.innerHTML = text;\n  div.style.float = \"right\";\n  div.style.cursor = \"pointer\";\n  div.style.width = \"16px\";\n  div.style.textAlign = \"center\";\n\n  if (className !== undefined) {\n    div.className = className;\n  }\n\n  return div;\n}\n\nfunction copySelectionText() {\n  var copysuccess; // var to check whether execCommand successfully executed\n  try {\n    copysuccess = document.execCommand(\"copy\"); // run command to copy selected text to clipboard\n  } catch (e) {\n    copysuccess = false\n  }\n  return copysuccess\n}\n\nfunction selectText(element) {\n  var doc = document\n    , text = element\n    , range, selection\n    ;\n  if (doc.body.createTextRange) {\n    range = document.body.createTextRange();\n    range.moveToElementText(text);\n    range.select();\n  } else if (window.getSelection) {\n    selection = window.getSelection();\n    range = document.createRange();\n    range.selectNodeContents(text);\n    selection.removeAllRanges();\n    selection.addRange(range);\n    return selection;\n  }\n}\n\nfunction getParentCardId(context) {\n  if (context.parentElement === null) return;\n  return parseInt(context.parentElement.id.split(\"_\")[1]);\n}\n\nfunction changeDepth(cardId, increment) {\n  var depth = parseInt(this.parentElement.style.zIndex) + increment;\n\n  this.parentElement.style.zIndex = depth;\n  cardManager.cards[cardId].depth = depth;\n  this.parentElement.getElementsByClassName(\"depth\")[0].innerHTML = depth;\n}\n\n// PROTOTYPES\n\n/*\n * Returns the size of an array\n */\nArray.prototype.size = function () {\n  return this.filter(function (a) {\n    return a !== undefined;\n  }).length\n};\n\n/*\n * Returns the size of an object\n */\nObject.size = function (obj) {\n  var size = 0, key = \"\";\n\n  for (key in obj) {\n    if (obj.hasOwnProperty(key)) size++;\n  }\n  return size;\n};\n\nmodule.exports = {\n  createDiv: createDiv,\n  copySelectionText: copySelectionText,\n  selectText: selectText,\n  getParentCardId: getParentCardId,\n  changeDepth: changeDepth\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2xpYi9wdWJzdWIuanMiLCJzcmMvanMvbWFpbi5qcyIsInNyYy9qcy9tb2RlbHMvQ2FyZC5qcyIsInNyYy9qcy9tb2RlbHMvQ2FyZE1hbmFnZXIuanMiLCJzcmMvanMvcHJvdG90eXBlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3REQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBTQVZFX0NBUkRTOiAnU0FWRV9DQVJEUydcbn0iLCJcbnZhciBzdWJzID0ge307XG5cblxuZnVuY3Rpb24gcHViKG5hbWUsIHBhcmFtcykge1xuICBzdWJzW25hbWVdLmZvckVhY2goZnVuY3Rpb24oZWxlbSkge1xuICAgIGVsZW0uY2FsbGJhY2suYXBwbHkoZWxlbS5jb250ZXh0LCBwYXJhbXMpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc3ViKG5hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gIGlmIChzdWJzW25hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICBzdWJzW25hbWVdID0gW107XG4gIH1cblxuICBzdWJzW25hbWVdLnB1c2goe1xuICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICBjb250ZXh0OiBjb250ZXh0XG4gIH0pO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBwdWI6IHB1YixcbiAgc3ViOiBzdWJcbn0iLCJ3aW5kb3cuQ09ORklHID0gcmVxdWlyZSgnLi9jb25maWcuanMnKVxuXG52YXIgcHJvdG90eXBlcyA9IHJlcXVpcmUoJy4vcHJvdG90eXBlcycpLFxuICBDYXJkID0gcmVxdWlyZSgnLi9tb2RlbHMvQ2FyZCcpLFxuICBDYXJkTWFuYWdlciA9IHJlcXVpcmUoJy4vbW9kZWxzL0NhcmRNYW5hZ2VyJyk7XG5cblxudmFyIGNhcmRNYW5hZ2VyID0gQ2FyZE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuT2JqZWN0LmFzc2lnbih3aW5kb3csIHJlcXVpcmUoJy4vcHJvdG90eXBlcycpKTtcblxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICBcInN0cmljdCBtb2RlXCI7XG5cbiAgdmFyIG1haW5Db250YWluZXIgPSAkKFwiI21haW5Db250YWluZXJcIiksXG4gICAgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1Db250YWluZXIgaW5wdXRcIiksXG4gICAgZWRpdENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q29udGFpbmVyJyksXG4gICAgZWRpdElucHV0ID0gZWRpdENvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnB1dCcpWzBdO1xuXG4gIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdmFyIGNhcmQ7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICBjYXJkID0gY2FyZE1hbmFnZXIuYWRkQ2FyZChuZXcgQ2FyZChpbnB1dC52YWx1ZSkpO1xuICAgICAgY2FyZC5yZW5kZXIoKTtcbiAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgY2FyZE1hbmFnZXIuc2F2ZUNhcmRzKCk7XG4gICAgfVxuICB9KTtcblxuICBlZGl0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB2YXIgY2FyZDtcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgIGNhcmQgPSBjYXJkTWFuYWdlci5jYXJkc1tlZGl0Q29udGFpbmVyLmNhcmRJZF07XG4gICAgICBjYXJkLm5hbWUgPSBlZGl0SW5wdXQudmFsdWU7XG4gICAgICBjYXJkLmRlcmVuZGVyKCk7XG4gICAgICBjYXJkLnJlbmRlcigpO1xuICAgICAgdGhpcy52YWx1ZSA9IFwiXCI7XG4gICAgICBjYXJkTWFuYWdlci5zYXZlQ2FyZHMoKTtcblxuICAgICAgZWRpdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfSk7XG5cbiAgLypcbiAgIE9uIGRvdWJsZSBjbGljayBlZGl0IHRoZSBjYXJkXG4gICAqL1xuICBtYWluQ29udGFpbmVyLm9uKFwiZGJsY2xpY2tcIiwgXCJkaXZcIiwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbGVtID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcuY2FyZFRleHQnKSxcbiAgICAgIGNhcmRJZCxcbiAgICAgIGNhcmQ7XG5cbiAgICBpZiAodGhpcy5pZCA9PT0gXCJcIikge1xuICAgICAgY2FyZElkID0gcGFyc2VJbnQodGhpcy5wYXJlbnRFbGVtZW50LmlkLnNwbGl0KFwiX1wiKVsxXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhcmRJZCA9IHBhcnNlSW50KHRoaXMuaWQuc3BsaXQoXCJfXCIpWzFdKTtcbiAgICB9XG5cbiAgICBjYXJkID0gY2FyZE1hbmFnZXIuY2FyZHNbY2FyZElkXTtcblxuICAgIGVkaXRJbnB1dC52YWx1ZSA9IGNhcmQubmFtZTtcbiAgICBlZGl0Q29udGFpbmVyLmNhcmRJZCA9IGNhcmRJZDtcbiAgICBlZGl0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIGVkaXRJbnB1dC5mb2N1cygpO1xuICB9KTtcblxuICAvKlxuICAgT24gY2xpY2sgcGVyZm9ybSB0aGUgY2FyZFxuICAgKi9cbiAgbWFpbkNvbnRhaW5lci5vbihcImNsaWNrXCIsIFwiZGl2XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBlbGVtID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcuY2FyZFRleHQnKSxcbiAgICAgIGNhcmRJZCA9IHBhcnNlSW50KHRoaXMuaWQuc3BsaXQoXCJfXCIpWzFdKSxcbiAgICAgIGNhcmQgPSBjYXJkTWFuYWdlci5jYXJkc1tjYXJkSWRdO1xuXG4gICAgaWYgKGV2ZW50LmN0cmxLZXkpIHtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmFsdEtleSkge1xuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcuY29weScpLmNsaWNrKCk7XG4gICAgfVxuICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuXG4gICAgfVxuICB9KTtcblxuICBtYWluQ29udGFpbmVyLm9uKFwiY2xpY2tcIiwgXCJkaXYgPiBkaXZcIiwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHRpb24gPSAkKHRoaXMpLmh0bWwoKSxcbiAgICAgIHNlbGVjdGlvbixcbiAgICAgIGNhcmRJZCA9IGdldFBhcmVudENhcmRJZCh0aGlzKTtcblxuICAgIHN3aXRjaCAob3B0aW9uKSB7XG4gICAgICBjYXNlICcrJzpcbiAgICAgICAgY2hhbmdlRGVwdGguYXBwbHkodGhpcywgW2NhcmRJZCwgMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJy0nOlxuICAgICAgICBjaGFuZ2VEZXB0aC5hcHBseSh0aGlzLCBbY2FyZElkLCAtMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0MnOlxuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3RUZXh0KHRoaXMucGFyZW50RWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjYXJkVGV4dCcpWzBdKTtcbiAgICAgICAgY29weVNlbGVjdGlvblRleHQoKTtcbiAgICAgICAgc2VsZWN0aW9uLmVtcHR5KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneCc6XG4gICAgICAgIGNhcmRNYW5hZ2VyLnJlbW92ZUNhcmQoY2FyZElkLCAtMSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXJkTWFuYWdlci5zYXZlQ2FyZHMoKTtcbiAgfSk7XG5cbiAgY2FyZE1hbmFnZXIubG9hZENhcmRzKCk7XG4gIGNhcmRNYW5hZ2VyLnJlbmRlckFsbENhcmRzKCk7XG4gIGlucHV0LmZvY3VzKCk7XG59KTsiLCJ2YXIgcHVic3ViID0gcmVxdWlyZSgnLi4vbGliL3B1YnN1YicpO1xuXG5mdW5jdGlvbiBDYXJkKG5hbWUpIHtcbiAgdGhpcy5pZCA9IC0xO1xuICB0aGlzLm5hbWUgPSBuYW1lO1xuICB0aGlzLmRlcHRoID0gNTtcbiAgdGhpcy54ID0gMTAwO1xuICB0aGlzLnkgPSAxMDA7XG4gIHRoaXMuY29sb3IgPSAnIycgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNjc3NzIxNSkudG9TdHJpbmcoMTYpO1xufVxuXG5DYXJkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICB0aGF0ID0gdGhpcztcblxuICB0ZXh0LmlubmVySFRNTCA9IHRoaXMubmFtZTtcbiAgdGV4dC5jbGFzc05hbWUgPSBcImNhcmRUZXh0XCI7XG5cbiAgbm9kZS5pZCA9IFwidG9kb19cIiArIHRoaXMuaWQ7XG4gIG5vZGUuY2xhc3NOYW1lID0gXCJjYXJkIGNhcmQtMVwiO1xuICBub2RlLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICBub2RlLnN0eWxlLmxlZnQgPSB0aGlzLng7XG4gIG5vZGUuc3R5bGUudG9wID0gdGhpcy55O1xuICBub2RlLnN0eWxlLmN1cnNvciA9IFwiLXdlYmtpdC1ncmFiXCI7XG4gIG5vZGUuc3R5bGUuekluZGV4ID0gdGhpcy5kZXB0aDtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5Db250YWluZXJcIikuYXBwZW5kQ2hpbGQobm9kZSk7XG5cbiAgbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVEaXYoJ3gnLCBcImNvbnRyb2wgcmVtb3ZlXCIpKTtcbiAgbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVEaXYoJysnLCBcImNvbnRyb2wgdXBcIikpO1xuICBub2RlLmFwcGVuZENoaWxkKGNyZWF0ZURpdignLScsIFwiY29udHJvbCBkb3duXCIpKTtcbiAgbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVEaXYoJ0MnLCBcImNvbnRyb2wgY29weVwiKSk7XG4gIG5vZGUuYXBwZW5kQ2hpbGQoY3JlYXRlRGl2KHRoaXMuZGVwdGgsIFwiZGVwdGhcIikpO1xuXG4gIG5vZGUuYXBwZW5kQ2hpbGQodGV4dCk7XG5cbiAgJChcIiN0b2RvX1wiICsgdGhpcy5pZCkuZHJhZ2dhYmxlKHtcbiAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY2FyZCA9ICQoXCIjdG9kb19cIiArIHRoYXQuaWQpO1xuICAgICAgdGhhdC54ID0gY2FyZC5jc3MoXCJsZWZ0XCIpO1xuICAgICAgdGhhdC55ID0gY2FyZC5jc3MoXCJ0b3BcIik7XG5cbiAgICAgIC8vIGNhcmRNYW5hZ2VyLnNhdmVDYXJkcygpO1xuICAgICAgcHVic3ViLnB1Yih3aW5kb3cuQ09ORklHLlNBVkVfQ0FSRFMpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5DYXJkLnByb3RvdHlwZS5kZXJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvZG9fXCIgKyB0aGlzLmlkKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluQ29udGFpbmVyXCIpLnJlbW92ZUNoaWxkKG5vZGUpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYXJkOyIsInZhciBDYXJkID0gcmVxdWlyZSgnLi9DYXJkJyksXG4gIHB1YnN1YiA9IHJlcXVpcmUoJy4uL2xpYi9wdWJzdWInKTtcblxuXG5mdW5jdGlvbiBDYXJkTWFuYWdlcigpIHtcbiAgdGhpcy5jYXJkcyA9IFtdO1xufVxuXG5DYXJkTWFuYWdlci5wcm90b3R5cGUuYWRkQ2FyZCA9IGZ1bmN0aW9uIChjYXJkKSB7XG4gIHRoaXMuY2FyZHMucHVzaChjYXJkKTtcbiAgY2FyZC5pZCA9IHRoaXMuY2FyZHMubGVuZ3RoIC0gMTtcblxuICByZXR1cm4gY2FyZDtcbn07XG5cbkNhcmRNYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVDYXJkID0gZnVuY3Rpb24gKGlkKSB7XG4gIHRoaXMuY2FyZHNbaWRdLmRlcmVuZGVyKCk7XG4gIHRoaXMuY2FyZHNbaWRdID0gdW5kZWZpbmVkO1xufTtcblxuQ2FyZE1hbmFnZXIucHJvdG90eXBlLnJlZHJhd0NhcmQgPSBmdW5jdGlvbiAoY2FyZElkLCB4LCB5KSB7XG4gIHZhciBjYXJkID0gdGhpcy5jYXJkc1tjYXJkSWRdO1xuICBjYXJkLnggPSB4O1xuICBjYXJkLnkgPSB5O1xuXG4gIGNhcmQuZGVyZW5kZXIoKTtcbiAgY2FyZC5yZW5kZXIoKTtcbn07XG5cbkNhcmRNYW5hZ2VyLnByb3RvdHlwZS5zYXZlQ2FyZHMgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YoU3RvcmFnZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhcmRzXCIsIEpTT04uc3RyaW5naWZ5KHRoaXMuY2FyZHMpKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhcInlvdSBkb24ndCBoYXZlIGxvY2FsIHN0b3JhZ2UgOihcIik7XG4gIH1cbn07XG5cbkNhcmRNYW5hZ2VyLnByb3RvdHlwZS5sb2FkQ2FyZHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpO1xuXG4gIHRoaXMuY2FyZHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2FyZHNcIikpO1xuICBpZiAodGhpcy5jYXJkcyA9PT0gbnVsbCkgdGhpcy5jYXJkcyA9IFtdO1xuXG4gIHRoaXMuY2xlYXJBcnJheSgpO1xufTtcblxuQ2FyZE1hbmFnZXIucHJvdG90eXBlLmNsZWFyQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpO1xuXG4gIHRoaXMuY2FyZHMgPSB0aGlzLmNhcmRzLmZpbHRlcihmdW5jdGlvbiAoZWxlbSkge1xuICAgIHJldHVybiBlbGVtICE9PSB1bmRlZmluZWQgJiYgZWxlbSAhPT0gbnVsbFxuICB9KTtcbiAgZm9yIChpIGluIHRoaXMuY2FyZHMpIHtcbiAgICBpZiAodGhpcy5jYXJkcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgdGhpcy5jYXJkc1tpXS5pZCA9IGk7XG4gICAgfVxuICB9XG59O1xuXG5DYXJkTWFuYWdlci5wcm90b3R5cGUucmVuZGVyQWxsQ2FyZHMgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY2FyZHMuZm9yRWFjaChmdW5jdGlvbiAoY2FyZCkge1xuICAgIC8vIGNhcmQuX19wcm90b19fID0gQ2FyZC5wcm90b3R5cGU7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGNhcmQsIENhcmQucHJvdG90eXBlKTtcbiAgICBjYXJkLnJlbmRlcigpO1xuICB9KVxufTtcblxuQ2FyZE1hbmFnZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKENhcmRNYW5hZ2VyLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICBDYXJkTWFuYWdlci5pbnN0YW5jZSA9IG5ldyBDYXJkTWFuYWdlcigpO1xuICAgIHB1YnN1Yi5zdWIod2luZG93LkNPTkZJRy5TQVZFX0NBUkRTLCBDYXJkTWFuYWdlci5pbnN0YW5jZS5zYXZlQ2FyZHMsIENhcmRNYW5hZ2VyLmluc3RhbmNlKTtcbiAgfVxuXG4gIHJldHVybiBDYXJkTWFuYWdlci5pbnN0YW5jZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDYXJkTWFuYWdlcjsiLCJ2YXIgY2FyZE1hbmFnZXIgPSByZXF1aXJlKCcuL21vZGVscy9DYXJkTWFuYWdlcicpLmdldEluc3RhbmNlKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZURpdih0ZXh0LCBjbGFzc05hbWUpIHtcbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuaW5uZXJIVE1MID0gdGV4dDtcbiAgZGl2LnN0eWxlLmZsb2F0ID0gXCJyaWdodFwiO1xuICBkaXYuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XG4gIGRpdi5zdHlsZS53aWR0aCA9IFwiMTZweFwiO1xuICBkaXYuc3R5bGUudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblxuICBpZiAoY2xhc3NOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICBkaXYuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICB9XG5cbiAgcmV0dXJuIGRpdjtcbn1cblxuZnVuY3Rpb24gY29weVNlbGVjdGlvblRleHQoKSB7XG4gIHZhciBjb3B5c3VjY2VzczsgLy8gdmFyIHRvIGNoZWNrIHdoZXRoZXIgZXhlY0NvbW1hbmQgc3VjY2Vzc2Z1bGx5IGV4ZWN1dGVkXG4gIHRyeSB7XG4gICAgY29weXN1Y2Nlc3MgPSBkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIik7IC8vIHJ1biBjb21tYW5kIHRvIGNvcHkgc2VsZWN0ZWQgdGV4dCB0byBjbGlwYm9hcmRcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvcHlzdWNjZXNzID0gZmFsc2VcbiAgfVxuICByZXR1cm4gY29weXN1Y2Nlc3Ncbn1cblxuZnVuY3Rpb24gc2VsZWN0VGV4dChlbGVtZW50KSB7XG4gIHZhciBkb2MgPSBkb2N1bWVudFxuICAgICwgdGV4dCA9IGVsZW1lbnRcbiAgICAsIHJhbmdlLCBzZWxlY3Rpb25cbiAgICA7XG4gIGlmIChkb2MuYm9keS5jcmVhdGVUZXh0UmFuZ2UpIHtcbiAgICByYW5nZSA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgcmFuZ2UubW92ZVRvRWxlbWVudFRleHQodGV4dCk7XG4gICAgcmFuZ2Uuc2VsZWN0KCk7XG4gIH0gZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuICAgIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKHRleHQpO1xuICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgIHJldHVybiBzZWxlY3Rpb247XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50Q2FyZElkKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQucGFyZW50RWxlbWVudCA9PT0gbnVsbCkgcmV0dXJuO1xuICByZXR1cm4gcGFyc2VJbnQoY29udGV4dC5wYXJlbnRFbGVtZW50LmlkLnNwbGl0KFwiX1wiKVsxXSk7XG59XG5cbmZ1bmN0aW9uIGNoYW5nZURlcHRoKGNhcmRJZCwgaW5jcmVtZW50KSB7XG4gIHZhciBkZXB0aCA9IHBhcnNlSW50KHRoaXMucGFyZW50RWxlbWVudC5zdHlsZS56SW5kZXgpICsgaW5jcmVtZW50O1xuXG4gIHRoaXMucGFyZW50RWxlbWVudC5zdHlsZS56SW5kZXggPSBkZXB0aDtcbiAgY2FyZE1hbmFnZXIuY2FyZHNbY2FyZElkXS5kZXB0aCA9IGRlcHRoO1xuICB0aGlzLnBhcmVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRlcHRoXCIpWzBdLmlubmVySFRNTCA9IGRlcHRoO1xufVxuXG4vLyBQUk9UT1RZUEVTXG5cbi8qXG4gKiBSZXR1cm5zIHRoZSBzaXplIG9mIGFuIGFycmF5XG4gKi9cbkFycmF5LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gYSAhPT0gdW5kZWZpbmVkO1xuICB9KS5sZW5ndGhcbn07XG5cbi8qXG4gKiBSZXR1cm5zIHRoZSBzaXplIG9mIGFuIG9iamVjdFxuICovXG5PYmplY3Quc2l6ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHNpemUgPSAwLCBrZXkgPSBcIlwiO1xuXG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkgc2l6ZSsrO1xuICB9XG4gIHJldHVybiBzaXplO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZURpdjogY3JlYXRlRGl2LFxuICBjb3B5U2VsZWN0aW9uVGV4dDogY29weVNlbGVjdGlvblRleHQsXG4gIHNlbGVjdFRleHQ6IHNlbGVjdFRleHQsXG4gIGdldFBhcmVudENhcmRJZDogZ2V0UGFyZW50Q2FyZElkLFxuICBjaGFuZ2VEZXB0aDogY2hhbmdlRGVwdGhcbn0iXX0="}