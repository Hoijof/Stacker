{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/config.js","src/js/lib/pubsub.js","src/js/main.js","src/js/models/Card.js","src/js/models/CardManager.js","src/js/prototypes.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = {\n  SAVE_CARDS: 'SAVE_CARDS'\n}","\nvar subs = {};\n\n\nfunction pub(name, params) {\n  subs[name].forEach(function(elem) {\n    elem.callback.apply(elem.context, params);\n  });\n}\n\nfunction sub(name, callback, context) {\n  if (subs[name] === undefined) {\n    subs[name] = [];\n  }\n\n  subs[name].push({\n    callback: callback,\n    context: context\n  });\n}\n\n\nmodule.exports = {\n  pub: pub,\n  sub: sub\n}","window.CONFIG = require('./config.js')\n\nvar prototypes = require('./prototypes'),\n  Card = require('./models/Card'),\n  CardManager = require('./models/CardManager');\n\n\nvar cardManager = CardManager.getInstance();\n\nObject.assign(window, require('./prototypes'));\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  \"strict mode\";\n\n  var mainContainer = $(\"#mainContainer\"),\n    input = document.querySelector(\"#formContainer input\"),\n    editContainer = document.getElementById('editContainer'),\n    editInput = editContainer.getElementsByClassName('input')[0];\n\n  input.addEventListener('keyup', function (event) {\n    event.stopPropagation();\n    var card;\n    if (event.keyCode === 13) {\n      card = cardManager.addCard(new Card(input.value));\n      card.render();\n      this.value = \"\";\n      cardManager.saveCards();\n    }\n  });\n\n  editInput.addEventListener('keyup', function (event) {\n    event.stopPropagation();\n    var card;\n    if (event.keyCode === 13) {\n      card = cardManager.cards[editContainer.cardId];\n      card.name = editInput.value;\n      card.derender();\n      card.render();\n      this.value = \"\";\n      cardManager.saveCards();\n\n      editContainer.style.display = 'none';\n    }\n  });\n\n  /*\n   On double click edit the card\n   */\n  mainContainer.on(\"dblclick\", \"div\", function () {\n    var elem = this.querySelector('.cardText'),\n      cardId,\n      card;\n\n    if (this.id === \"\") {\n      cardId = parseInt(this.parentElement.id.split(\"_\")[1]);\n    } else {\n      cardId = parseInt(this.id.split(\"_\")[1]);\n    }\n\n    card = cardManager.cards[cardId];\n\n    editInput.value = card.name;\n    editContainer.cardId = cardId;\n    editContainer.style.display = 'block';\n    editInput.focus();\n  });\n\n  /*\n   On click perform the card\n   */\n  mainContainer.on(\"click\", \"div\", function (event) {\n    var elem = this.querySelector('.cardText'),\n      cardId = parseInt(this.id.split(\"_\")[1]),\n      card = cardManager.cards[cardId];\n\n    if (event.ctrlKey) {\n    }\n    if (event.altKey) {\n      this.querySelector('.copy').click();\n    }\n    if (event.shiftKey) {\n\n    }\n  });\n\n  mainContainer.on(\"click\", \"div > div\", function () {\n    var option = $(this).html(),\n      selection,\n      cardId = getParentCardId(this);\n\n    switch (option) {\n      case '+':\n        changeDepth.apply(this, [cardId, 1]);\n        break;\n      case '-':\n        changeDepth.apply(this, [cardId, -1]);\n        break;\n      case 'C':\n        selection = selectText(this.parentElement.getElementsByClassName('cardText')[0]);\n        copySelectionText();\n        selection.empty();\n        break;\n      case 'x':\n        cardManager.removeCard(cardId, -1);\n        break;\n    }\n    cardManager.saveCards();\n  });\n\n  cardManager.loadCards();\n  cardManager.renderAllCards();\n  input.focus();\n});","var pubsub = require('../lib/pubsub');\n\nfunction Card(name) {\n  this.id = -1;\n  this.name = name;\n  this.depth = 5;\n  this.x = 100;\n  this.y = 100;\n  this.color = '#' + Math.floor(Math.random() * 16777215).toString(16);\n}\n\nCard.prototype.render = function () {\n  var node = document.createElement('div'),\n      text = document.createElement('div'),\n      that = this;\n\n  text.innerHTML = this.name;\n  text.className = \"cardText\";\n\n  node.id = \"todo_\" + this.id;\n  node.className = \"card card-1\";\n  node.style.position = \"fixed\";\n  node.style.left = this.x;\n  node.style.top = this.y;\n  node.style.cursor = \"-webkit-grab\";\n  node.style.zIndex = this.depth;\n\n  document.getElementById(\"mainContainer\").appendChild(node);\n\n  node.appendChild(createDiv('x', \"control remove\"));\n  node.appendChild(createDiv('+', \"control up\"));\n  node.appendChild(createDiv('-', \"control down\"));\n  node.appendChild(createDiv('C', \"control copy\"));\n  node.appendChild(createDiv(this.depth, \"depth\"));\n\n  node.appendChild(text);\n\n  $(\"#todo_\" + this.id).draggable({\n    stop: function () {\n      var card = $(\"#todo_\" + that.id);\n      that.x = card.css(\"left\");\n      that.y = card.css(\"top\");\n\n      // cardManager.saveCards();\n      pubsub.pub(window.CONFIG.SAVE_CARDS);\n    }\n  });\n};\n\nCard.prototype.derender = function () {\n  var node = document.getElementById(\"todo_\" + this.id);\n  document.getElementById(\"mainContainer\").removeChild(node);\n};\n\nmodule.exports = Card;","var Card = require('./Card'),\n  pubsub = require('../lib/pubsub');\n\n\nfunction CardManager() {\n  this.cards = [];\n}\n\nCardManager.prototype.addCard = function (card) {\n  this.cards.push(card);\n  card.id = this.cards.length - 1;\n\n  return card;\n};\n\nCardManager.prototype.removeCard = function (id) {\n  this.cards[id].derender();\n  this.cards[id] = undefined;\n};\n\nCardManager.prototype.redrawCard = function (cardId, x, y) {\n  var card = this.cards[cardId];\n  card.x = x;\n  card.y = y;\n\n  card.derender();\n  card.render();\n};\n\nCardManager.prototype.saveCards = function () {\n  if (typeof(Storage) !== \"undefined\") {\n    localStorage.setItem(\"cards\", JSON.stringify(this.cards));\n  } else {\n    console.log(\"you don't have local storage :(\");\n  }\n};\n\nCardManager.prototype.loadCards = function () {\n  var i;\n\n  this.cards = JSON.parse(localStorage.getItem(\"cards\"));\n  if (this.cards === null) this.cards = [];\n\n  this.clearArray();\n};\n\nCardManager.prototype.clearArray = function () {\n  var i;\n\n  this.cards = this.cards.filter(function (elem) {\n    return elem !== undefined && elem !== null\n  });\n  for (i in this.cards) {\n    if (this.cards.hasOwnProperty(i)) {\n      this.cards[i].id = i;\n    }\n  }\n};\n\nCardManager.prototype.renderAllCards = function () {\n  this.cards.forEach(function (card) {\n    card.__proto__ = Card.prototype;\n    card.render();\n  })\n};\n\nCardManager.getInstance = function() {\n  if (CardManager.instance === undefined) {\n    CardManager.instance = new CardManager();\n    pubsub.sub(window.CONFIG.SAVE_CARDS, CardManager.instance.saveCards, CardManager.instance);\n  }\n\n  return CardManager.instance;\n}\n\nmodule.exports = CardManager;","var cardManager = require('./models/CardManager').getInstance();\n\nfunction createDiv(text, className) {\n  var div = document.createElement('div');\n  div.innerHTML = text;\n  div.style.float = \"right\";\n  div.style.cursor = \"pointer\";\n  div.style.width = \"16px\";\n  div.style.textAlign = \"center\";\n\n  if (className !== undefined) {\n    div.className = className;\n  }\n\n  return div;\n}\n\nfunction copySelectionText() {\n  var copysuccess; // var to check whether execCommand successfully executed\n  try {\n    copysuccess = document.execCommand(\"copy\"); // run command to copy selected text to clipboard\n  } catch (e) {\n    copysuccess = false\n  }\n  return copysuccess\n}\n\nfunction selectText(element) {\n  var doc = document\n    , text = element\n    , range, selection\n    ;\n  if (doc.body.createTextRange) {\n    range = document.body.createTextRange();\n    range.moveToElementText(text);\n    range.select();\n  } else if (window.getSelection) {\n    selection = window.getSelection();\n    range = document.createRange();\n    range.selectNodeContents(text);\n    selection.removeAllRanges();\n    selection.addRange(range);\n    return selection;\n  }\n}\n\nfunction getParentCardId(context) {\n  if (context.parentElement === null) return;\n  return parseInt(context.parentElement.id.split(\"_\")[1]);\n}\n\nfunction changeDepth(cardId, increment) {\n  var depth = parseInt(this.parentElement.style.zIndex) + increment;\n\n  this.parentElement.style.zIndex = depth;\n  cardManager.cards[cardId].depth = depth;\n  this.parentElement.getElementsByClassName(\"depth\")[0].innerHTML = depth;\n}\n\n// PROTOTYPES\n\n/*\n * Returns the size of an array\n */\nArray.prototype.size = function () {\n  return this.filter(function (a) {\n    return a !== undefined;\n  }).length\n};\n\n/*\n * Returns the size of an object\n */\nObject.size = function (obj) {\n  var size = 0, key = \"\";\n\n  for (key in obj) {\n    if (obj.hasOwnProperty(key)) size++;\n  }\n  return size;\n};\n\nmodule.exports = {\n  createDiv: createDiv,\n  copySelectionText: copySelectionText,\n  selectText: selectText,\n  getParentCardId: getParentCardId,\n  changeDepth: changeDepth\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2xpYi9wdWJzdWIuanMiLCJzcmMvanMvbWFpbi5qcyIsInNyYy9qcy9tb2RlbHMvQ2FyZC5qcyIsInNyYy9qcy9tb2RlbHMvQ2FyZE1hbmFnZXIuanMiLCJzcmMvanMvcHJvdG90eXBlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3REQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgU0FWRV9DQVJEUzogJ1NBVkVfQ0FSRFMnXG59IiwiXG52YXIgc3VicyA9IHt9O1xuXG5cbmZ1bmN0aW9uIHB1YihuYW1lLCBwYXJhbXMpIHtcbiAgc3Vic1tuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW0pIHtcbiAgICBlbGVtLmNhbGxiYWNrLmFwcGx5KGVsZW0uY29udGV4dCwgcGFyYW1zKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHN1YihuYW1lLCBjYWxsYmFjaywgY29udGV4dCkge1xuICBpZiAoc3Vic1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3Vic1tuYW1lXSA9IFtdO1xuICB9XG5cbiAgc3Vic1tuYW1lXS5wdXNoKHtcbiAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgY29udGV4dDogY29udGV4dFxuICB9KTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcHViOiBwdWIsXG4gIHN1Yjogc3ViXG59Iiwid2luZG93LkNPTkZJRyA9IHJlcXVpcmUoJy4vY29uZmlnLmpzJylcblxudmFyIHByb3RvdHlwZXMgPSByZXF1aXJlKCcuL3Byb3RvdHlwZXMnKSxcbiAgQ2FyZCA9IHJlcXVpcmUoJy4vbW9kZWxzL0NhcmQnKSxcbiAgQ2FyZE1hbmFnZXIgPSByZXF1aXJlKCcuL21vZGVscy9DYXJkTWFuYWdlcicpO1xuXG5cbnZhciBjYXJkTWFuYWdlciA9IENhcmRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbk9iamVjdC5hc3NpZ24od2luZG93LCByZXF1aXJlKCcuL3Byb3RvdHlwZXMnKSk7XG5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgXCJzdHJpY3QgbW9kZVwiO1xuXG4gIHZhciBtYWluQ29udGFpbmVyID0gJChcIiNtYWluQ29udGFpbmVyXCIpLFxuICAgIGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb3JtQ29udGFpbmVyIGlucHV0XCIpLFxuICAgIGVkaXRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvbnRhaW5lcicpLFxuICAgIGVkaXRJbnB1dCA9IGVkaXRDb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5wdXQnKVswXTtcblxuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHZhciBjYXJkO1xuICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgICAgY2FyZCA9IGNhcmRNYW5hZ2VyLmFkZENhcmQobmV3IENhcmQoaW5wdXQudmFsdWUpKTtcbiAgICAgIGNhcmQucmVuZGVyKCk7XG4gICAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICAgIGNhcmRNYW5hZ2VyLnNhdmVDYXJkcygpO1xuICAgIH1cbiAgfSk7XG5cbiAgZWRpdElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdmFyIGNhcmQ7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICBjYXJkID0gY2FyZE1hbmFnZXIuY2FyZHNbZWRpdENvbnRhaW5lci5jYXJkSWRdO1xuICAgICAgY2FyZC5uYW1lID0gZWRpdElucHV0LnZhbHVlO1xuICAgICAgY2FyZC5kZXJlbmRlcigpO1xuICAgICAgY2FyZC5yZW5kZXIoKTtcbiAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgY2FyZE1hbmFnZXIuc2F2ZUNhcmRzKCk7XG5cbiAgICAgIGVkaXRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gIH0pO1xuXG4gIC8qXG4gICBPbiBkb3VibGUgY2xpY2sgZWRpdCB0aGUgY2FyZFxuICAgKi9cbiAgbWFpbkNvbnRhaW5lci5vbihcImRibGNsaWNrXCIsIFwiZGl2XCIsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWxlbSA9IHRoaXMucXVlcnlTZWxlY3RvcignLmNhcmRUZXh0JyksXG4gICAgICBjYXJkSWQsXG4gICAgICBjYXJkO1xuXG4gICAgaWYgKHRoaXMuaWQgPT09IFwiXCIpIHtcbiAgICAgIGNhcmRJZCA9IHBhcnNlSW50KHRoaXMucGFyZW50RWxlbWVudC5pZC5zcGxpdChcIl9cIilbMV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYXJkSWQgPSBwYXJzZUludCh0aGlzLmlkLnNwbGl0KFwiX1wiKVsxXSk7XG4gICAgfVxuXG4gICAgY2FyZCA9IGNhcmRNYW5hZ2VyLmNhcmRzW2NhcmRJZF07XG5cbiAgICBlZGl0SW5wdXQudmFsdWUgPSBjYXJkLm5hbWU7XG4gICAgZWRpdENvbnRhaW5lci5jYXJkSWQgPSBjYXJkSWQ7XG4gICAgZWRpdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBlZGl0SW5wdXQuZm9jdXMoKTtcbiAgfSk7XG5cbiAgLypcbiAgIE9uIGNsaWNrIHBlcmZvcm0gdGhlIGNhcmRcbiAgICovXG4gIG1haW5Db250YWluZXIub24oXCJjbGlja1wiLCBcImRpdlwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgZWxlbSA9IHRoaXMucXVlcnlTZWxlY3RvcignLmNhcmRUZXh0JyksXG4gICAgICBjYXJkSWQgPSBwYXJzZUludCh0aGlzLmlkLnNwbGl0KFwiX1wiKVsxXSksXG4gICAgICBjYXJkID0gY2FyZE1hbmFnZXIuY2FyZHNbY2FyZElkXTtcblxuICAgIGlmIChldmVudC5jdHJsS2V5KSB7XG4gICAgfVxuICAgIGlmIChldmVudC5hbHRLZXkpIHtcbiAgICAgIHRoaXMucXVlcnlTZWxlY3RvcignLmNvcHknKS5jbGljaygpO1xuICAgIH1cbiAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcblxuICAgIH1cbiAgfSk7XG5cbiAgbWFpbkNvbnRhaW5lci5vbihcImNsaWNrXCIsIFwiZGl2ID4gZGl2XCIsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9uID0gJCh0aGlzKS5odG1sKCksXG4gICAgICBzZWxlY3Rpb24sXG4gICAgICBjYXJkSWQgPSBnZXRQYXJlbnRDYXJkSWQodGhpcyk7XG5cbiAgICBzd2l0Y2ggKG9wdGlvbikge1xuICAgICAgY2FzZSAnKyc6XG4gICAgICAgIGNoYW5nZURlcHRoLmFwcGx5KHRoaXMsIFtjYXJkSWQsIDFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICctJzpcbiAgICAgICAgY2hhbmdlRGVwdGguYXBwbHkodGhpcywgW2NhcmRJZCwgLTFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdDJzpcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0VGV4dCh0aGlzLnBhcmVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2FyZFRleHQnKVswXSk7XG4gICAgICAgIGNvcHlTZWxlY3Rpb25UZXh0KCk7XG4gICAgICAgIHNlbGVjdGlvbi5lbXB0eSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3gnOlxuICAgICAgICBjYXJkTWFuYWdlci5yZW1vdmVDYXJkKGNhcmRJZCwgLTEpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgY2FyZE1hbmFnZXIuc2F2ZUNhcmRzKCk7XG4gIH0pO1xuXG4gIGNhcmRNYW5hZ2VyLmxvYWRDYXJkcygpO1xuICBjYXJkTWFuYWdlci5yZW5kZXJBbGxDYXJkcygpO1xuICBpbnB1dC5mb2N1cygpO1xufSk7IiwidmFyIHB1YnN1YiA9IHJlcXVpcmUoJy4uL2xpYi9wdWJzdWInKTtcblxuZnVuY3Rpb24gQ2FyZChuYW1lKSB7XG4gIHRoaXMuaWQgPSAtMTtcbiAgdGhpcy5uYW1lID0gbmFtZTtcbiAgdGhpcy5kZXB0aCA9IDU7XG4gIHRoaXMueCA9IDEwMDtcbiAgdGhpcy55ID0gMTAwO1xuICB0aGlzLmNvbG9yID0gJyMnICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTY3NzcyMTUpLnRvU3RyaW5nKDE2KTtcbn1cblxuQ2FyZC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgdGhhdCA9IHRoaXM7XG5cbiAgdGV4dC5pbm5lckhUTUwgPSB0aGlzLm5hbWU7XG4gIHRleHQuY2xhc3NOYW1lID0gXCJjYXJkVGV4dFwiO1xuXG4gIG5vZGUuaWQgPSBcInRvZG9fXCIgKyB0aGlzLmlkO1xuICBub2RlLmNsYXNzTmFtZSA9IFwiY2FyZCBjYXJkLTFcIjtcbiAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgbm9kZS5zdHlsZS5sZWZ0ID0gdGhpcy54O1xuICBub2RlLnN0eWxlLnRvcCA9IHRoaXMueTtcbiAgbm9kZS5zdHlsZS5jdXJzb3IgPSBcIi13ZWJraXQtZ3JhYlwiO1xuICBub2RlLnN0eWxlLnpJbmRleCA9IHRoaXMuZGVwdGg7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluQ29udGFpbmVyXCIpLmFwcGVuZENoaWxkKG5vZGUpO1xuXG4gIG5vZGUuYXBwZW5kQ2hpbGQoY3JlYXRlRGl2KCd4JywgXCJjb250cm9sIHJlbW92ZVwiKSk7XG4gIG5vZGUuYXBwZW5kQ2hpbGQoY3JlYXRlRGl2KCcrJywgXCJjb250cm9sIHVwXCIpKTtcbiAgbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVEaXYoJy0nLCBcImNvbnRyb2wgZG93blwiKSk7XG4gIG5vZGUuYXBwZW5kQ2hpbGQoY3JlYXRlRGl2KCdDJywgXCJjb250cm9sIGNvcHlcIikpO1xuICBub2RlLmFwcGVuZENoaWxkKGNyZWF0ZURpdih0aGlzLmRlcHRoLCBcImRlcHRoXCIpKTtcblxuICBub2RlLmFwcGVuZENoaWxkKHRleHQpO1xuXG4gICQoXCIjdG9kb19cIiArIHRoaXMuaWQpLmRyYWdnYWJsZSh7XG4gICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNhcmQgPSAkKFwiI3RvZG9fXCIgKyB0aGF0LmlkKTtcbiAgICAgIHRoYXQueCA9IGNhcmQuY3NzKFwibGVmdFwiKTtcbiAgICAgIHRoYXQueSA9IGNhcmQuY3NzKFwidG9wXCIpO1xuXG4gICAgICAvLyBjYXJkTWFuYWdlci5zYXZlQ2FyZHMoKTtcbiAgICAgIHB1YnN1Yi5wdWIod2luZG93LkNPTkZJRy5TQVZFX0NBUkRTKTtcbiAgICB9XG4gIH0pO1xufTtcblxuQ2FyZC5wcm90b3R5cGUuZGVyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2RvX1wiICsgdGhpcy5pZCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbkNvbnRhaW5lclwiKS5yZW1vdmVDaGlsZChub2RlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FyZDsiLCJ2YXIgQ2FyZCA9IHJlcXVpcmUoJy4vQ2FyZCcpLFxuICBwdWJzdWIgPSByZXF1aXJlKCcuLi9saWIvcHVic3ViJyk7XG5cblxuZnVuY3Rpb24gQ2FyZE1hbmFnZXIoKSB7XG4gIHRoaXMuY2FyZHMgPSBbXTtcbn1cblxuQ2FyZE1hbmFnZXIucHJvdG90eXBlLmFkZENhcmQgPSBmdW5jdGlvbiAoY2FyZCkge1xuICB0aGlzLmNhcmRzLnB1c2goY2FyZCk7XG4gIGNhcmQuaWQgPSB0aGlzLmNhcmRzLmxlbmd0aCAtIDE7XG5cbiAgcmV0dXJuIGNhcmQ7XG59O1xuXG5DYXJkTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlQ2FyZCA9IGZ1bmN0aW9uIChpZCkge1xuICB0aGlzLmNhcmRzW2lkXS5kZXJlbmRlcigpO1xuICB0aGlzLmNhcmRzW2lkXSA9IHVuZGVmaW5lZDtcbn07XG5cbkNhcmRNYW5hZ2VyLnByb3RvdHlwZS5yZWRyYXdDYXJkID0gZnVuY3Rpb24gKGNhcmRJZCwgeCwgeSkge1xuICB2YXIgY2FyZCA9IHRoaXMuY2FyZHNbY2FyZElkXTtcbiAgY2FyZC54ID0geDtcbiAgY2FyZC55ID0geTtcblxuICBjYXJkLmRlcmVuZGVyKCk7XG4gIGNhcmQucmVuZGVyKCk7XG59O1xuXG5DYXJkTWFuYWdlci5wcm90b3R5cGUuc2F2ZUNhcmRzID0gZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mKFN0b3JhZ2UpICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYXJkc1wiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmNhcmRzKSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXCJ5b3UgZG9uJ3QgaGF2ZSBsb2NhbCBzdG9yYWdlIDooXCIpO1xuICB9XG59O1xuXG5DYXJkTWFuYWdlci5wcm90b3R5cGUubG9hZENhcmRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaTtcblxuICB0aGlzLmNhcmRzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhcmRzXCIpKTtcbiAgaWYgKHRoaXMuY2FyZHMgPT09IG51bGwpIHRoaXMuY2FyZHMgPSBbXTtcblxuICB0aGlzLmNsZWFyQXJyYXkoKTtcbn07XG5cbkNhcmRNYW5hZ2VyLnByb3RvdHlwZS5jbGVhckFycmF5ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaTtcblxuICB0aGlzLmNhcmRzID0gdGhpcy5jYXJkcy5maWx0ZXIoZnVuY3Rpb24gKGVsZW0pIHtcbiAgICByZXR1cm4gZWxlbSAhPT0gdW5kZWZpbmVkICYmIGVsZW0gIT09IG51bGxcbiAgfSk7XG4gIGZvciAoaSBpbiB0aGlzLmNhcmRzKSB7XG4gICAgaWYgKHRoaXMuY2FyZHMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIHRoaXMuY2FyZHNbaV0uaWQgPSBpO1xuICAgIH1cbiAgfVxufTtcblxuQ2FyZE1hbmFnZXIucHJvdG90eXBlLnJlbmRlckFsbENhcmRzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNhcmRzLmZvckVhY2goZnVuY3Rpb24gKGNhcmQpIHtcbiAgICBjYXJkLl9fcHJvdG9fXyA9IENhcmQucHJvdG90eXBlO1xuICAgIGNhcmQucmVuZGVyKCk7XG4gIH0pXG59O1xuXG5DYXJkTWFuYWdlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoQ2FyZE1hbmFnZXIuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgIENhcmRNYW5hZ2VyLmluc3RhbmNlID0gbmV3IENhcmRNYW5hZ2VyKCk7XG4gICAgcHVic3ViLnN1Yih3aW5kb3cuQ09ORklHLlNBVkVfQ0FSRFMsIENhcmRNYW5hZ2VyLmluc3RhbmNlLnNhdmVDYXJkcywgQ2FyZE1hbmFnZXIuaW5zdGFuY2UpO1xuICB9XG5cbiAgcmV0dXJuIENhcmRNYW5hZ2VyLmluc3RhbmNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENhcmRNYW5hZ2VyOyIsInZhciBjYXJkTWFuYWdlciA9IHJlcXVpcmUoJy4vbW9kZWxzL0NhcmRNYW5hZ2VyJykuZ2V0SW5zdGFuY2UoKTtcblxuZnVuY3Rpb24gY3JlYXRlRGl2KHRleHQsIGNsYXNzTmFtZSkge1xuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5pbm5lckhUTUwgPSB0ZXh0O1xuICBkaXYuc3R5bGUuZmxvYXQgPSBcInJpZ2h0XCI7XG4gIGRpdi5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgZGl2LnN0eWxlLndpZHRoID0gXCIxNnB4XCI7XG4gIGRpdi5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuXG4gIGlmIChjbGFzc05hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGRpdi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gIH1cblxuICByZXR1cm4gZGl2O1xufVxuXG5mdW5jdGlvbiBjb3B5U2VsZWN0aW9uVGV4dCgpIHtcbiAgdmFyIGNvcHlzdWNjZXNzOyAvLyB2YXIgdG8gY2hlY2sgd2hldGhlciBleGVjQ29tbWFuZCBzdWNjZXNzZnVsbHkgZXhlY3V0ZWRcbiAgdHJ5IHtcbiAgICBjb3B5c3VjY2VzcyA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTsgLy8gcnVuIGNvbW1hbmQgdG8gY29weSBzZWxlY3RlZCB0ZXh0IHRvIGNsaXBib2FyZFxuICB9IGNhdGNoIChlKSB7XG4gICAgY29weXN1Y2Nlc3MgPSBmYWxzZVxuICB9XG4gIHJldHVybiBjb3B5c3VjY2Vzc1xufVxuXG5mdW5jdGlvbiBzZWxlY3RUZXh0KGVsZW1lbnQpIHtcbiAgdmFyIGRvYyA9IGRvY3VtZW50XG4gICAgLCB0ZXh0ID0gZWxlbWVudFxuICAgICwgcmFuZ2UsIHNlbGVjdGlvblxuICAgIDtcbiAgaWYgKGRvYy5ib2R5LmNyZWF0ZVRleHRSYW5nZSkge1xuICAgIHJhbmdlID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICByYW5nZS5tb3ZlVG9FbGVtZW50VGV4dCh0ZXh0KTtcbiAgICByYW5nZS5zZWxlY3QoKTtcbiAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGV4dCk7XG4gICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgcmV0dXJuIHNlbGVjdGlvbjtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXJlbnRDYXJkSWQoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5wYXJlbnRFbGVtZW50ID09PSBudWxsKSByZXR1cm47XG4gIHJldHVybiBwYXJzZUludChjb250ZXh0LnBhcmVudEVsZW1lbnQuaWQuc3BsaXQoXCJfXCIpWzFdKTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlRGVwdGgoY2FyZElkLCBpbmNyZW1lbnQpIHtcbiAgdmFyIGRlcHRoID0gcGFyc2VJbnQodGhpcy5wYXJlbnRFbGVtZW50LnN0eWxlLnpJbmRleCkgKyBpbmNyZW1lbnQ7XG5cbiAgdGhpcy5wYXJlbnRFbGVtZW50LnN0eWxlLnpJbmRleCA9IGRlcHRoO1xuICBjYXJkTWFuYWdlci5jYXJkc1tjYXJkSWRdLmRlcHRoID0gZGVwdGg7XG4gIHRoaXMucGFyZW50RWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZGVwdGhcIilbMF0uaW5uZXJIVE1MID0gZGVwdGg7XG59XG5cbi8vIFBST1RPVFlQRVNcblxuLypcbiAqIFJldHVybnMgdGhlIHNpemUgb2YgYW4gYXJyYXlcbiAqL1xuQXJyYXkucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBhICE9PSB1bmRlZmluZWQ7XG4gIH0pLmxlbmd0aFxufTtcblxuLypcbiAqIFJldHVybnMgdGhlIHNpemUgb2YgYW4gb2JqZWN0XG4gKi9cbk9iamVjdC5zaXplID0gZnVuY3Rpb24gKG9iaikge1xuICB2YXIgc2l6ZSA9IDAsIGtleSA9IFwiXCI7XG5cbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSBzaXplKys7XG4gIH1cbiAgcmV0dXJuIHNpemU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlRGl2OiBjcmVhdGVEaXYsXG4gIGNvcHlTZWxlY3Rpb25UZXh0OiBjb3B5U2VsZWN0aW9uVGV4dCxcbiAgc2VsZWN0VGV4dDogc2VsZWN0VGV4dCxcbiAgZ2V0UGFyZW50Q2FyZElkOiBnZXRQYXJlbnRDYXJkSWQsXG4gIGNoYW5nZURlcHRoOiBjaGFuZ2VEZXB0aFxufSJdfQ=="}